(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b692b"],{"1e78":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"doc-article monkey-view-doc"},[i("h1",[t._v("Upload 上传")]),i("p",[t._v("通过点击或拖拽上传文件的控件。")]),i("p",[t._v("上传是将文件资源通过网页上传到指定服务器的过程。当需要上传一个或者多个文件你需要用到。")]),t._m(0),i("code-wrap",{attrs:{id:"DJSC"}},[i("template",{slot:"description"},[i("p",[t._v("点击上传，一次选择一个文件。")]),i("p",[t._v("设置"),i("code",[t._v("action")]),t._v("属性定义上传地址。")]),i("p",[t._v("设置"),i("code",[t._v("accept")]),t._v("属性限定选择文件类型，此属性为原生属性，只是选择文件时显示选择文件的类型，但是依然可以上传别的类型的文件。此时可以添加"),i("code",[t._v("format")]),t._v("属性限定上传文件的类型。")]),i("p",[t._v("设置"),i("code",[t._v("maxSize")]),t._v("属性限制上传文件的大小，单位kb。")]),i("p",[i("code",[t._v("onExceed")]),t._v("属性是一个方法，超出限制时触发，超出大小限制和文件类型限制和数量限制时都会触发，参数为type当前限制类型，file当前上传文件，fileList文件列表。其中"),i("code",[t._v("type")]),t._v("值为"),i("code",[t._v("size")]),t._v("(超出大小限制),"),i("code",[t._v("type")]),t._v("(超出文件类型限制),"),i("code",[t._v("limit")]),t._v("(超出文件数量限制)。")])]),i("template",{slot:"title"},[t._v("点击上传 "),i("a",{attrs:{href:"#DJSC","data-title":"点击上传"}},[t._v("#")])]),i("template",{slot:"source"},[i("monkey-view-demo0")],1),i("template",{slot:"highlight"},[i("p"),i("p"),i("p"),i("p"),i("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[i("pre",{pre:!0},[i("code",{pre:!0,attrs:{class:"html"}},[t._v("<template>\n    <Upload action=\"//jsonplaceholder.typicode.com/posts/\" accept=\".jpg,.png\" :format=\"['jpg', 'png']\" :maxSize=\"500\" :limit=\"5\" :onExceed=\"exceedHandler\">\n        <Button>upload</Button>\n        <div slot=\"tip\" class=\"Upload__tip\">只能上传jpg/png文件，大小不能超过500kb</div>\n    </Upload>\n</template>\n<script>\n    export default {\n      data(){\n        return {\n          \n        }\n      },\n      methods: {\n        exceedHandler(type, file, fileList){\n          let info = '';\n          switch (type) {\n            case 'limit': \n                info = '上传文件数量超出限制5个';\n              break;\n            case 'type': \n                info = '上传文件类型不正确，请上传jpg/png文件';\n              break;\n            case 'size': \n                info = '上传文件大小超过500kb，请重新上传';\n              break;\n          }\n          this.$Message.error(info);\n        }\n      }\n    }\n<\/script>\n\n")])])])])],2),i("code-wrap",{attrs:{id:"DX"}},[i("template",{slot:"description"},[i("p",[t._v("多选点击上传，一次可以选择多个文件，设置"),i("code",[t._v("multiple")]),t._v("属性实现多选上传。")])]),i("template",{slot:"title"},[t._v("多选 "),i("a",{attrs:{href:"#DX","data-title":"多选"}},[t._v("#")])]),i("template",{slot:"source"},[i("monkey-view-demo1")],1),i("template",{slot:"highlight"},[i("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[i("pre",{pre:!0},[i("code",{pre:!0,attrs:{class:"html"}},[t._v('<template>\n    <Upload action="//jsonplaceholder.typicode.com/posts/" multiple>\n        <Button>upload</Button>\n        <div slot="tip" class="Upload__tip">可以一次选择多个文件上传</div>\n    </Upload>\n</template>\n')])])])])],2),i("code-wrap",{attrs:{id:"SDSC"}},[i("template",{slot:"description"},[i("p",[t._v("绑定"),i("code",[t._v("before-upload")]),t._v("并返回"),i("code",[t._v("false")]),t._v("，阻止默认的上传流程，可以自己手动控制上传。绑定"),i("code",[t._v("fileList")]),t._v("手动控制上传列表。")])]),i("template",{slot:"title"},[t._v("手动上传 "),i("a",{attrs:{href:"#SDSC","data-title":"手动上传"}},[t._v("#")])]),i("template",{slot:"source"},[i("monkey-view-demo2")],1),i("template",{slot:"highlight"},[i("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[i("pre",{pre:!0},[i("code",{pre:!0,attrs:{class:"html"}},[t._v('<template>\n    <Upload action="//jsonplaceholder.typicode.com/posts/" \n    :file-list="fileList" :before-upload="beforeUploadHandler">\n        <Button>select file</Button>\n    </Upload>\n    <Button type="primary" :disabled="!fileList.length" :loading="loading" @click="clickHandler">click upload file</Button>\n</template>\n<script>\n    export default {\n      data(){\n        return {\n          fileList: [],\n          loading: false,\n        }\n      },\n      methods: {\n        beforeUploadHandler(file){\n          console.log(file,\'file\')\n          this.fileList.push(file);\n          return false;\n        },\n        clickHandler(){\n          this.loading = true;\n          setTimeout(()=>{\n            this.fileList = [];\n            this.loading = false;\n            this.$Message.success(\'上传成功\')\n          }, 2000)\n        }\n      }\n    }\n<\/script>\n\n')])])])])],2),i("code-wrap",{attrs:{id:"TZSC"}},[i("template",{slot:"description"},[i("p",[t._v("设置"),i("code",[t._v("drag")]),t._v("属性实现拖拽上传。")])]),i("template",{slot:"title"},[t._v("拖拽上传 "),i("a",{attrs:{href:"#TZSC","data-title":"拖拽上传"}},[t._v("#")])]),i("template",{slot:"source"},[i("monkey-view-demo3")],1),i("template",{slot:"highlight"},[i("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[i("pre",{pre:!0},[i("code",{pre:!0,attrs:{class:"html"}},[t._v('<template>\n    <Upload action="//jsonplaceholder.typicode.com/posts/" drag>\n        <Icon type="cloud-upload" style="color: #2d8cf0;"></Icon>\n        <div class="doc-upload-title">drag upload file</div>\n    </Upload>\n</template>\n')])])])])],2),i("code-wrap",{attrs:{id:"ZPQ"}},[i("template",{slot:"description"},[i("p",[t._v("设置"),i("code",[t._v("listType=picture-card")]),t._v("实现照片墙展示上传列表。")])]),i("template",{slot:"title"},[t._v("照片墙 "),i("a",{attrs:{href:"#ZPQ","data-title":"照片墙"}},[t._v("#")])]),i("template",{slot:"source"},[i("monkey-view-demo4")],1),i("template",{slot:"highlight"},[i("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[i("pre",{pre:!0},[i("code",{pre:!0,attrs:{class:"html"}},[t._v('<template>\n    <Upload action="//jsonplaceholder.typicode.com/posts/" \n    drag \n    listType="picture-card" \n    :file-list="fileListPictureCard" \n    :onPreview="handlerPreview" \n    :onRemove="handlerRemove" \n    :onSuccess="handlerSuccess">\n        <Icon type="plus"></Icon>\n        <div>上传文件</div>\n    </Upload>\n    <Modal v-model="modalVisible" footer-hide>\n        <img :src="modalFile.url" width="100%" alt="" />\n    </Modal>\n</template>\n<script>\n    export default {\n      data(){\n        return {\n          fileListPictureCard: [\n            {\n              name: \'XXX1.jpg\',\n              url: \'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=655054976,1593018610&fm=26&gp=0.jpg\'\n            },\n            {\n              name: \'XXX2.jpg\',\n              url: \'https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2496520483,2043298183&fm=26&gp=0.jpg\'\n            }\n          ],\n          modalFile: {},\n          modalVisible: false,\n        }\n      },\n      methods: {\n        handlerPreview(file) {\n            this.modalFile = file;\n            this.modalVisible = true;\n        },\n        handlerRemove(file, fileList){\n          this.fileListPictureCard = fileList;\n          this.$Message.info(\'删除成功\');\n        },\n        handlerSuccess(res, file, fileList){\n          this.fileListPictureCard.push(file);\n        }\n      }\n    }\n<\/script>\n\n')])])])])],2),i("code-wrap",{attrs:{id:"TBLB"}},[i("template",{slot:"description"},[i("p",[t._v("设置"),i("code",[t._v("listType=picture")]),t._v("实现照片墙展示上传列表。")])]),i("template",{slot:"title"},[t._v("图标列表 "),i("a",{attrs:{href:"#TBLB","data-title":"图标列表"}},[t._v("#")])]),i("template",{slot:"source"},[i("monkey-view-demo5")],1),i("template",{slot:"highlight"},[i("div",{directives:[{name:"highlight",rawName:"v-highlight"}]},[i("pre",{pre:!0},[i("code",{pre:!0,attrs:{class:"html"}},[t._v("<template>\n    <Upload action=\"//jsonplaceholder.typicode.com/posts/\" \n    listType=\"picture\" \n    :file-list=\"fileListPicture\" \n    :onRemove=\"handlerRemove\" \n    :onSuccess=\"handlerSuccess\">\n        <Button>upload</Button>\n    </Upload>\n</template>\n<script>\n    export default {\n      data(){\n        return {\n          fileListPicture: [\n            {\n              name: 'XXX1.jpg',\n              url: 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=655054976,1593018610&fm=26&gp=0.jpg'\n            },\n            {\n              name: 'XXX2.jpg',\n              url: 'https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2496520483,2043298183&fm=26&gp=0.jpg'\n            }\n          ],\n        }\n      },\n      methods: {\n        handlerRemove(file, fileList){\n          this.fileListPicture = fileList;\n          this.$Message.info('删除成功');\n        },\n        handlerSuccess(res, file, fileList){\n          this.fileListPicture.push(file);\n        }\n      }\n    }\n<\/script>\n\n")])])])])],2),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5)],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",{staticClass:"anchor-title",attrs:{id:"dai-ma-shi-li"}},[t._v("代码示例 "),i("a",{staticClass:"header-anchor",attrs:{href:"#dai-ma-shi-li"}},[t._v("#")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",{staticClass:"anchor-title",attrs:{id:"api"}},[t._v("API "),i("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h3",{staticClass:"anchor-title",attrs:{id:"upload-props"}},[t._v("Upload props "),i("a",{staticClass:"header-anchor",attrs:{href:"#upload-props"}},[t._v("#")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"doc-table"},[i("thead",[i("tr",[i("th",[t._v("属性")]),i("th",[t._v("类型")]),i("th",[t._v("说明")]),i("th",[t._v("默认值")])])]),i("tbody",[i("tr",[i("td",[t._v("name")]),i("td",[t._v("String")]),i("td",[t._v("上传文件的字段名")]),i("td",[t._v("file")])]),i("tr",[i("td",[t._v("action")]),i("td",[t._v("String")]),i("td",[t._v("上传的地址")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("listType")]),i("td",[t._v("String")]),i("td",[t._v("可选值"),i("code",[t._v("text")]),i("code",[t._v("picture")]),i("code",[t._v("picture-card")]),t._v("。上传列表的样式")]),i("td",[t._v("text")])]),i("tr",[i("td",[t._v("fileList")]),i("td",[t._v("Array")]),i("td",[t._v("自己控制上传文件列表。设置fileList的格式为"),i("code",[t._v("[{name: 'name', url: ''}]")])]),i("td",[t._v("[]")])]),i("tr",[i("td",[t._v("drag")]),i("td",[t._v("Boolean")]),i("td",[t._v("开启拖拽上传")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("multiple")]),i("td",[t._v("Boolean")]),i("td",[t._v("多选")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("accept")]),i("td",[t._v("String")]),i("td",[t._v("原生属性，指定选择文件格式，详见 "),i("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept",target:"_blank"}},[t._v("文件类型")])]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("format")]),i("td",[t._v("Array")]),i("td",[t._v("支持的文件格式，与accept不同的是，accept是原生属性，会在选择文件时过滤，但是不会强制限制文件格式。此选项可以和accept配合使用，也可以单独使用，限制上传文件的格式。值类型如："),i("code",[t._v("['jpg','png']")]),t._v(",此时上传别的格式文件时不会执行接口请求")]),i("td",[t._v("[]]")])]),i("tr",[i("td",[t._v("showUploadList")]),i("td",[t._v("Boolean")]),i("td",[t._v("是否显示文件列表")]),i("td",[t._v("true")])]),i("tr",[i("td",[t._v("limit")]),i("td",[t._v("Number")]),i("td",[t._v("限制上传数量")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("maxSize")]),i("td",[t._v("Number")]),i("td",[t._v("限制上传文件的大小。默认单位KB")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("disabled")]),i("td",[t._v("Boolean")]),i("td",[t._v("禁用选项")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("headers")]),i("td",[t._v("Object")]),i("td",[t._v("设置上传的请求头部")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("data")]),i("td",[t._v("Object")]),i("td",[t._v("上传时附带的额外参数")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("beforeUpload")]),i("td",[t._v("Function(file)")]),i("td",[t._v("上传之前的钩子函数。参数为当前上传的文件，若返回false或者Promise则停止上传")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("onChange")]),i("td",[t._v("Function(file, fileList)")]),i("td",[t._v("上传文件改变时的状态。添加文件、上传成功、上传失败都会调用")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("onProgress")]),i("td",[t._v("Function(event, file, fileList)")]),i("td",[t._v("上传时的钩子")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("onSuccess")]),i("td",[t._v("Function(response, file, fileList)")]),i("td",[t._v("上传成功的钩子")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("onError")]),i("td",[t._v("Function(error, file, fileList)")]),i("td",[t._v("上传失败的钩子")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("onRemove")]),i("td",[t._v("Function(file, fileList)")]),i("td",[t._v("文件列表移出的钩子")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("onPreview")]),i("td",[t._v("Function(file)")]),i("td",[t._v("点击文件列表中已上传文件的钩子")]),i("td",[t._v("-")])]),i("tr",[i("td",[t._v("onExceed")]),i("td",[t._v("Function(type, file, fileList)")]),i("td",[t._v("文件超出限制时的钩子,"),i("code",[t._v("type")]),t._v("值为"),i("code",[t._v("limit")]),t._v("(超出文件数量限制) "),i("code",[t._v("size")]),t._v("(超出文件大小限制) "),i("code",[t._v("type")]),t._v("(超出文件类型限制)")]),i("td",[t._v("-")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h3",{staticClass:"anchor-title",attrs:{id:"upload-slot"}},[t._v("Upload slot "),i("a",{staticClass:"header-anchor",attrs:{href:"#upload-slot"}},[t._v("#")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("table",{staticClass:"doc-table"},[i("thead",[i("tr",[i("th",[t._v("名称")]),i("th",[t._v("说明")])])]),i("tbody",[i("tr",[i("td",[t._v("-")]),i("td",[t._v("触发上传组件的控件")])]),i("tr",[i("td",[t._v("tip")]),i("td",[t._v("辅助提示内容")])])])])}],l=(i("5ab2"),i("6d57"),i("e10e"),i("ce3c"));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r={name:"component-doc",components:{"monkey-view-demo0":function(){var t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/",accept:".jpg,.png",format:["jpg","png"],maxSize:500,limit:5,onExceed:t.exceedHandler}},[i("Button",[t._v("upload")]),t._v(" "),i("div",{staticClass:"Upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，大小不能超过500kb")])],1)]],2)},e=[],i={data:function(){return{}},methods:{exceedHandler:function(t,e,i){var n="";switch(t){case"limit":n="上传文件数量超出限制5个";break;case"type":n="上传文件类型不正确，请上传jpg/png文件";break;case"size":n="上传文件大小超过500kb，请重新上传";break}this.$Message.error(n)}}};return s({render:t,staticRenderFns:e},i)}(),"monkey-view-demo1":function(){var t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/",multiple:""}},[i("Button",[t._v("upload")]),t._v(" "),i("div",{staticClass:"Upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("可以一次选择多个文件上传")])],1)]],2)},e=[],i={};return s({render:t,staticRenderFns:e},i)}(),"monkey-view-demo2":function(){var t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/","file-list":t.fileList,"before-upload":t.beforeUploadHandler}},[i("Button",[t._v("select file")])],1),t._v(" "),i("Button",{attrs:{type:"primary",disabled:!t.fileList.length,loading:t.loading},on:{click:t.clickHandler}},[t._v("click upload file")])]],2)},e=[],i={data:function(){return{fileList:[],loading:!1}},methods:{beforeUploadHandler:function(t){return console.log(t,"file"),this.fileList.push(t),!1},clickHandler:function(){var t=this;this.loading=!0,setTimeout((function(){t.fileList=[],t.loading=!1,t.$Message.success("上传成功")}),2e3)}}};return s({render:t,staticRenderFns:e},i)}(),"monkey-view-demo3":function(){var t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/",drag:""}},[i("Icon",{staticStyle:{color:"#2d8cf0"},attrs:{type:"cloud-upload"}}),t._v(" "),i("div",{staticClass:"doc-upload-title"},[t._v("drag upload file")])],1)]],2)},e=[],i={};return s({render:t,staticRenderFns:e},i)}(),"monkey-view-demo4":function(){var t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/",drag:"",listType:"picture-card","file-list":t.fileListPictureCard,onPreview:t.handlerPreview,onRemove:t.handlerRemove,onSuccess:t.handlerSuccess}},[i("Icon",{attrs:{type:"plus"}}),t._v(" "),i("div",[t._v("上传文件")])],1),t._v(" "),i("Modal",{attrs:{"footer-hide":""},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[i("img",{attrs:{src:t.modalFile.url,width:"100%",alt:""}})])]],2)},e=[],i={data:function(){return{fileListPictureCard:[{name:"XXX1.jpg",url:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=655054976,1593018610&fm=26&gp=0.jpg"},{name:"XXX2.jpg",url:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2496520483,2043298183&fm=26&gp=0.jpg"}],modalFile:{},modalVisible:!1}},methods:{handlerPreview:function(t){this.modalFile=t,this.modalVisible=!0},handlerRemove:function(t,e){this.fileListPictureCard=e,this.$Message.info("删除成功")},handlerSuccess:function(t,e,i){this.fileListPictureCard.push(e)}}};return s({render:t,staticRenderFns:e},i)}(),"monkey-view-demo5":function(){var t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[[i("Upload",{attrs:{action:"//jsonplaceholder.typicode.com/posts/",listType:"picture","file-list":t.fileListPicture,onRemove:t.handlerRemove,onSuccess:t.handlerSuccess}},[i("Button",[t._v("upload")])],1)]],2)},e=[],i={data:function(){return{fileListPicture:[{name:"XXX1.jpg",url:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=655054976,1593018610&fm=26&gp=0.jpg"},{name:"XXX2.jpg",url:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=2496520483,2043298183&fm=26&gp=0.jpg"}]}},methods:{handlerRemove:function(t,e){this.fileListPicture=e,this.$Message.info("删除成功")},handlerSuccess:function(t,e,i){this.fileListPicture.push(e)}}};return s({render:t,staticRenderFns:e},i)}()}},d=r,c=i("9ca4"),p=Object(c["a"])(d,n,a,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0b692b.b6755158.js.map